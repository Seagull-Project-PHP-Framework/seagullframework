<h1 class="pageTitle">{pageTitle}</h1>
<span flexy:if="msgGet()">{msgGet()}</span>

<form name="frmFilterSwitcher" method="get" flexy:ignore>
<table class="narrow">
	<tr>
    	<td>
            filter by module 
            <select name="frmModuleId" 
                    onChange="javascript:document.location.href='{makeUrl(#editPerms#,#user#,#user#)}frmUserID/{userID}/frmModuleId/' + getSelectedValue(self.document.frmFilterSwitcher.frmModuleId) + '/';" />
                <option value="" />all                       
                {generateSelect(aModules,currentModule):h}
            </select>
        </td>
	</tr>
</table>
</form>

<form method="post" name="updatePerms" flexy:ignore>
<input type="hidden" name="action" value="updatePerms" />
<input type="hidden" name="frmModuleId" value="{moduleId}" />
<input type="hidden" name="user[usr_id]" value="{userID}" />
<table class="narrow">
	<tr>
	    <th colspan="2">User permissions for user id {userID}</th>
	</tr>
	<tr>
	    <td align="right" valign="top"><strong>Permissions</strong></td>
	    <td valign="top" align="left">
            {permCheckboxes:h}
        </td>
	</tr>
	<tr>
	    <td colspan="2">
            <a href="#" onclick="setCheckboxes('updatePerms', 'frmPerms[]', true); return false;">Check All</a> / 
            <a href="#" onclick="setCheckboxes('updatePerms', 'frmPerms[]', false); return false;">Uncheck All</a>
	    </td>
	</tr>
    <tr>
        <td width="100%" colspan="2" align="center" nowrap>
            <input class="wideButton" type="submit" value="{translate(#Save#)}" />
    	    <input class="wideButton" type="button" value="{translate(#Cancel#)}" 
    	       onClick="javascript:document.location.href='{makeUrl(##,#user#,#user#)}'" />
        </td>
    </tr>
</table>
</form>
