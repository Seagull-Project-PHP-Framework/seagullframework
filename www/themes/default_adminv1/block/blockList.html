<span flexy:if="msgGet()">{msgGet()}</span> 

<form name="frmBlockMgr" method="post" flexy:ignore id="frmBlockMgr">
    <fieldset class="main">
    <input type="hidden" name="action" value="delete" />

        <p>
            <select name="position" onchange="javascript:document.location.href='{makeUrl(#reorder#,#block#,#block#,##,#position#)}'+document.frmBlockMgr.position.value">
                <option>- {translate(#Reorder blocks#)} -</option>
                {generateSelect(aBlocksNames,##):h}
            </select>
        </p>
        <table class="full">
            <thead>
                <tr flexy:if="pager">
                    <td colspan="9">
                        <flexy:include src="pager.html" />
                    </td>
                </tr>
                <tr>
                    <th class="id"><a href="{makeUrl(#list#,#block#,#block#,##,#frmSortBy|block_id||frmSortOrder|sortOrder#)}" title="{translate(#Sort by#)} {translate(#ID#)}">{translate(#ID#)}</a> 
                        {if:sort_block_id}<img src="{webRoot}/themes/{theme}/images/16/sort_{sortOrder}.gif" alt="" />{end:}</th>
                    <th class="select">
                        <span class="tipOwner">
                            <span class="tipText" id="becareful">Be Careful !</span>
                            <input type="checkbox" name="checkAll" id="checkAll" onClick="javascript:applyToAllCheckboxes('frmBlockMgr', 'frmDelete[]', this.checked)" />
                        </span>
                    </th>
                    <th class="left"><a href="{makeUrl(#list#,#block#,#block#,##,#frmSortBy|name||frmSortOrder|sortOrder#)}" title="{translate(#Sort by#)} {translate(#Name#)}">{translate(#Name#)}</a> 
                        {if:sort_name}<img src="{webRoot}/themes/{theme}/images/16/sort_{sortOrder}.gif" alt="" />{end:}</th>
        
                    <th class="left"><a href="{makeUrl(#list#,#block#,#block#,##,#frmSortBy|title||frmSortOrder|sortOrder#)}" title="{translate(#Sort by#)} {translate(#Title#)}">{translate(#Title#)}</a> 
                        {if:sort_title}<img src="{webRoot}/themes/{theme}/images/16/sort_{sortOrder}.gif" alt="" />{end:}</th>
                        
                    <th>{translate(#Sections#)}</th>
                    <th><a href="{makeUrl(#list#,#block#,#block#,##,#frmSortBy|position||frmSortOrder|sortOrder#)}" title="{translate(#Sort by#)} {translate(#Position#)}">{translate(#Position#)}</a> 
                        {if:sort_position}<img src="{webRoot}/themes/{theme}/images/16/sort_{sortOrder}.gif" alt="" />{end:}</th>
                        
                    <th><a href="{makeUrl(#list#,#block#,#block#,##,#frmSortBy|blk_order||frmSortOrder|sortOrder#)}" title="{translate(#Sort by#)} {translate(#Order#)}">{translate(#Order#)}</a> 
                        {if:sort_blk_order}<img src="{webRoot}/themes/{theme}/images/16/sort_{sortOrder}.gif" alt="" />{end:}</th>
                        
                    <th><a href="{makeUrl(#list#,#block#,#block#,##,#frmSortBy|is_enabled||frmSortOrder|sortOrder#)}" title="{translate(#Sort by#)} {translate(#Status#)}">{translate(#Status#)}</a> 
                        {if:sort_is_enabled}<img src="{webRoot}/themes/{theme}/images/16/sort_{sortOrder}.gif" alt="" />{end:}</th>
                    <th>{translate(#Edit#)}</th>
                </tr>
            </thead>
            <tfoot>
                <tr>
                    <td>&nbsp;</td>
                    <td style="text-align:right;">
                        <img src="{webRoot}/themes/{theme}/images/16/arrow_right.png" alt="" />
                    </td>
                    <td colspan="7">{translate(#With selected block(s)#)} : 
                        <input type="submit" name="Delete" value="{translate(#delete#)}" onclick="return confirmSubmit('block', 'frmBlockMgr')" />
                    </td>
                </tr>
                <tr flexy:if="pager">
                    <td colspan="9">
                        <flexy:include src="pager.html" />
                    </td>
                </tr>
            </tfoot>
            <tbody>
                <tr class="{switchRowClass()}" flexy:foreach="aPagedData[data],key,aValue">
                    <td>{aValue[block_id]}</td>
                    <td><input type="checkbox" name="frmDelete[]" id="frmDelete[]" value="{aValue[block_id]}" /></td>
                    <td class="left">{aValue[name]}</td>
                    <td class="left">{aValue[title]}</td>
                    <td>{if:aValue[sections]} {foreach:aValue[sections],key,section} {section}. {end:} {else:} {translate(#No section#)} {end:}</td>
                    <td>{aValue[position]}</td>
                    <td>{aValue[blk_order]}</td>
                    <td>{if:aValue[is_enabled]}<img src="{webRoot}/themes/{theme}/images/16/status_enabled.gif" alt="{translate(#Enabled#)}" title="{translate(#Enabled#)}" />{else:}<img src="{webRoot}/themes/{theme}/images/16/status_disabled.gif" alt="{translate(#Disabled#)}" title="{translate(#Disabled#)}" />{end:}</td>
                    <td>
                        <a href="{makeUrl(#edit#,#block#,#block#,aPagedData[data],#frmBlockId|block_id#,aValue[block_id])}">
                            <img src="{webRoot}/themes/{theme}/images/16/action_edit.gif" alt="{translate(#Edit#)}" title="{translate(#Edit#)} {translate(aValue[title])}" />
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </fieldset>
</form>
