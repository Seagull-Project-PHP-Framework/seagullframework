<input type="hidden" name="dg_sort_by__2" id="dg_sort_by__2" value="{column.name}">
<input type="hidden" name="dg_sort_order_down__2" id="dg_sort_order_down__2" value="{dg_sort_order_down__2}">                   
<script language="javascript">
    function orderBy__2(columnName,sortOrder) {
        form = document.getElementById('dg_sort_by__2').form;
        form.dg_sort_by__2.value = columnName;
        if (sortOrder == '1' || sortOrder == '')
            form.dg_sort_order_down__2.value = 0;
        else
            form.dg_sort_order_down__2.value = 1;
            alert(form.dg_sort_order_down__2.value);
        form.submit();
	}
	 function ok() {
	    form.submit();
    }
</script>
<center>{dg_links__2:h}</center>
<table>
    <tr>
        <th flexy:foreach="dg_columns__2,key_column,column">
            {if:column.sort}
            <a class="header" href="javascript:orderBy__2('{column.name}','{column.sort_order}')">{column.name}</a>
                {if:isEqual(column.name,dg_sort_order_down__2)}
                    {if:dg_sort_order_down__2}
                        down
                    {else:}
                        up
                    {end:}
                {end:}
            {else:}
            {column.name}
            {end:}
        </th>
    </tr>

    <tr> 
        <td flexy:foreach="dg_columns__2,key_column,column">
            {if:column.filter}
            <input type="text" name="dg[__2][filter][{column.name}]" value="{column.filter_value}">
            {else:}
            &nbsp;
            {end:}
        </td>
    </tr>

    <tr class="{switchRowClass()}" flexy:foreach="dg_results__2,key,valueObj">
	
   <!--     <td><input type="checkbox" name="dg_col_selected__2" /></td> -->
        {foreach:dg_columns__2,key_column,column}
	        {if:isEqual(column.type,#id#)}
            <td><input type="checkbox" name="{column.name}" value="{getArrayValue(valueObj,column.dbName)}"></td>
            {end:}
			{if:isEqual(column.type,#text#)}
            <td>{getArrayValue(valueObj,column.dbName,column.text_length)}</td>
            {end:}
            {if:isEqual(column.type,#html#)}
            <td>{getArrayValue(valueObj,column.dbName):h}</td>
            {end:}
            {if:isEqual(column.type,#user#)}
			{setTemplateFields(valueObj,column)}
			<flexy:include src="dataGridCol.html"/>
			{end:}
			{if:isEqual(column.type,#colour#)}
            <td bgcolor="{getArrayValue(valueObj,column.dbName)}">{getArrayValue(valueObj,column.dbName)}</td>
            {end:}
			{if:isEqual(column.type,#integer#)}
            <td>{getArrayValue(valueObj,column.dbName)}</td>
            {end:}
			{if:isEqual(column.type,#real#)}
            <td>{getArrayValue(valueObj,column.dbName)}</td>
            {end:}
			{if:isEqual(column.type,#date#)}
            <td>{getArrayValue(valueObj,column.dbName)}</td>
            {end:}
			{if:isEqual(column.type,#hour#)}
            <td>{getArrayValue(valueObj,column.dbName)}</td>
            {end:}
			{if:isEqual(column.type,#image#)}
            <td><img src="{uploadPath}/{getArrayValue(valueObj,column.dbName)}"></td>
            {end:}
			{if:isEqual(column.type,#thumbnail#)}
            <td><img src="{uploadPath}/{getArrayValue(valueObj,column.dbName)}"></td>
            {end:}
			{if:isEqual(column.type,#enclosure#)}
            <td><a href="{uploadPath}/{getArrayValue(valueObj,column.dbName)}">{getArrayValue(valueObj,column.dbName)}</a></td>
            {end:}		
			{if:isEqual(column.type,#mail#)}
            <td><a href="mailto:{getArrayValue(valueObj,column.dbName)}">{getArrayValue(valueObj,column.dbName)}</a></td>
            {end:}
            {if:isEqual(column.type,#link#)}
            <td><a href="{getArrayValue(valueObj,column.dbName)}">{valueObj[name]}</a></td>
            {end:}
			{if:isEqual(column.type,#radio#)}
			<td><input name="{column.name}" type="radio" value="{getArrayValue(valueObj,column.dbName)}"></td>
			{end:}
        {end:}
    </tr>
</table>
