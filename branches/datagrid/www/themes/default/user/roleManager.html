<flexy:include src="userModuleSubNav.html" />

<form name="roles" method="post" flexy:ignore>
<input type="hidden" name="action" value="delete" />
<h1 class="pageTitle">{translate(pageTitle)}</h1>
<span flexy:if="msgGet()">{msgGet()}</span>

{if:pager}<flexy:include src="pager.html" />{end:}

<table class="wide">
    <tr>
        <td colspan="5">
    <input type="button" value="{translate(#add role#)}" 
        onClick="javascript:document.location.href='{makeUrl(#add#,#role#,#user#)}'" />
</td>
    </tr>
    <tr>
        <th>{translate(#Select#)}</th>
        <th><a class="header" href="{makeUrl(#list#,#role#,#user#,##,#frmSortBy|role_id||frmSortOrder|sortOrder#)}">{translate(#Role ID#)}</a></th>
        <th><a class="header" href="{makeUrl(#list#,#role#,#user#,##,#frmSortBy|name||frmSortOrder|sortOrder#)}">{translate(#Name#)}</a></th>
        <th>{translate(#Description#)}</th>
        <th>{translate(#Edit#)}</th>
        <th>{translate(#Permissions#)}</th>
        <th>{translate(#Role#)}</th>
    </tr>
    <tr class="{switchRowClass()}" flexy:foreach="aPagedData[data],key,aValue">
        <td align="center"><input class="noBorder" type="checkbox" name="frmDelete[]" value="{aValue[role_id]}" /></td>
        <td>{aValue[role_id]}</td>
        <td>{aValue[name]}</td>
        <td>{aValue[description]}</td>
        <td align="center"><a href="{makeUrl(#edit#,#role#,#user#,aPagedData[data],#frmRoleID|role_id#,key)}">
            <img src="{webRoot}/themes/{theme}/images/edit.gif" alt="{translate(#edit#)}" /></a>
        </td>
        <td align="center" flexy:if="isAdminOrUnassigned(aValue[role_id])">&nbsp;</td>
        <td align="center" flexy:if="!isAdminOrUnassigned(aValue[role_id])">
        <input type="button" name="frmReset" value="{translate(#change#)}"
            onClick="javascript:document.location.href='{makeUrl(#editPerms#,#role#,#user#,aPagedData[data],#frmRoleID|role_id#,key)}'" />
        </td>
        <td align="center" flexy:if="isAdminOrUnassigned(aValue[role_id])">&nbsp;</td>
        <td align="center" flexy:if="!isAdminOrUnassigned(aValue[role_id])">
        <input type="button" name="frmReset" value="{translate(#duplicate#)}"
            onClick="javascript:document.location.href='{makeUrl(#duplicate#,#role#,#user#,aPagedData[data],#frmRoleID|role_id#,key)}'" />
        </td>
    </tr>
    <tr>
        <td colspan="5">
            {translate(#With selected user(s)#)} : 
        <input type="submit" name="delete" value="{translate(#delete#)}" onClick="return confirmSubmit('{translate(#role#)}', 'roles')" />
        </td>
    </tr>
</table>
</form>
