You can find here how to migrate from 40Bugfix to 40Bugfix with shop. Also by
this document you can find what are the differences between the two versions.

I don't advice on executing directly the SQL code because of constrains and
overlapping table IDs. The IDs are OK for a fresh install.

1) Copy the code:
	/modules/cart
	/modules/rate
	/modules/shop
	/www/themes/default/cart
	/www/themes/default/rate
	/www/themes/default/shop
	/modules/block/classes/blocks/ShopNav.php
	/modules/block/classes/blocks/ShoppingCart.php
	/modules/block/classes/blocks/ShopSearch
	/modules/block/classes/blocks/RndMsgBlock.php
	/modules/block/classes/blocks/Exchange.php 

2) Add modules
INSERT INTO module VALUES (14,1,'shop','Shop','This is the Shop Manager. Add and edit your products, prices and discounts here.','shop/shopadmin','default.png');
INSERT INTO module VALUES (15,1,'rate','Currency','Here you can edit and update the currency rates.','rate/rateAdmin','default.png');
INSERT INTO module VALUES (16,1,'cart','Cart','Universal cart module with basket and order management.','cart/cartAdmin','default.png');

3) Add permissions
INSERT INTO permission VALUES (225,'shopmgr',NULL,14);
INSERT INTO permission VALUES (226,'cartmgr',NULL,16);
INSERT INTO permission VALUES (227,'cartmgr_insert',NULL,16);
INSERT INTO permission VALUES (228,'cartmgr_update',NULL,16);
INSERT INTO permission VALUES (229,'cartmgr_list',NULL,16);
INSERT INTO permission VALUES (230,'cartmgr_checkout',NULL,16);

4) Assign the permissions to roles
INSERT INTO role_permission VALUES (71,0,225);
INSERT INTO role_permission VALUES (72,0,226);
INSERT INTO role_permission VALUES (73,2,225);
INSERT INTO role_permission VALUES (74,2,226);

5) Add shop to navigation menu
INSERT INTO section VALUES (20,'Shop','shop/shop','1,2,0',0,20,1,4,15,1,1,NULL);
INSERT INTO section VALUES (21,'Shop Admin','shop/shopadmin','1',20,20,2,3,1,2,1,NULL);

6) Activate blocks, last columnt set to 1
INSERT INTO block VALUES (13, 'ShopNav', 'Products', '', 'sgl-dropdown', 1, 1, 1, NULL);
INSERT INTO block VALUES (14, 'ShoppingCart', 'Cart', '', '', 1, 0, 1, NULL);
INSERT INTO block VALUES (15, 'RndProducts', 'Promotions', '', 'rndProducts', 5, 0, 1, NULL);
INSERT INTO block VALUES (16, 'ShopSearch', 'Search', '', '', 7, 1, 1, NULL);
INSERT INTO block VALUES (18, 'Exchange', 'Exchange', '', '', 9, 1, 1, NULL);

7) Show blocks for different sections
INSERT INTO block_assignment VALUES (13, 20);
INSERT INTO block_assignment VALUES (13, 21);
INSERT INTO block_assignment VALUES (14, 0);
INSERT INTO block_assignment VALUES (15, 0);
INSERT INTO block_assignment VALUES (16, 0);
INSERT INTO block_assignment VALUES (18, 0);

